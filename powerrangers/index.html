<!doctype html>
<html>
    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <title>Power Rangers Activation Portal</title>

        <script src="js/gsap/TweenMax.min.js"></script>
        <script src="js/gsap/TimelineMax.min.js"></script>

        <link href="css/normalize.min.css" rel="stylesheet">
        <link href="css/skeleton.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">

        <script>
            var animationObject = [
                {id:"img_bg_globe", animation:[{id:"fadeIn"}], timing: 0},
                {id:"img_globe", animation:[{id:"fadeIn"}, {id:"zoomIn"}], timing: 0.5},
                {id:"img_bg_globe_logo_placeholder", animation:[{id:"fadeIn"}, {id:"slideIn"}], timing: 0.5},
                {id:"img_globe_anchor", animation:[{id:"fadeIn"}], timing: 0.5},
                {id:"img_bg_globe_line02", animation:[{id:"fadeIn"}], timing: 0.5},
                {id:"img_bg_globe_line03", animation:[{id:"fadeIn"}], timing: 0},
                {id:"img_globe_line", animation:[{id:"fadeIn"}], timing: 0}
            ];
        </script>

    </head>
    <body>
        <div class="container" id="top-logo">
            <div class="row">
                <img src="images/img_bg_globe.png" id="img_bg_globe" style="width: 100%;">
                <img src="images/img_globe.png" id="img_globe" class="child center" style="width: 50%; top: 50%; left: 50%">
                <img src="images/img_bg_globe_logo_placeholder.png" id="img_bg_globe_logo_placeholder" class="child center" style="width: 40%; top: 22%; left:51.5%">
                <img src="images/img_globe_anchor.png" id="img_globe_anchor" class="child center" style="width: 10%; top: 40%; left:51.5%">
                <img src="images/img_bg_globe_line02.png" id="img_bg_globe_line02" class="child center" style="width: 40%; top: 40%; left:71.5%">
                <img src="images/img_bg_globe_line03.png" id="img_bg_globe_line03" class="child center" style="width: 40%; top: 41%; left:30.5%">
                <img src="images/img_globe_line.png" id="img_globe_line" class="child center" style="width: 1px; height: 30%; top: 55%; left:51.5%">
            </div>



            <script>

                window.onload = function(){
                    console.log('Loaded');
                    init();
                }


                function init()
                {
                    if(animationObject)
                    {
                        var tl = new TimelineMax();

                        function addPercent(percent, value)
                        {
                            var pctValue = parseFloat(percent);
                            return (pctValue + value) + "%";
                        }

                        function fadeIn(element)
                        {

                            TweenMax.fromTo(element, 0.5, {alpha: 0}, {alpha: 1, ease: Power2.easeOut});
                        }

                        function slideIn(element)
                        {
                            element.currentTop = element.style.top;
                            TweenMax.fromTo(element.style, 0.5, {top: addPercent(element.currentTop, -20)}, {top: element.currentTop, ease: Power2.easeOut});
                        }

                        function zoomIn(element)
                        {
                            TweenMax.fromTo(element, 0.5, {scale: 0}, {scale: 1, ease: Back.easeOut, onComplete:function(){this.style.removeProperty('transform');}.bind(element)});
                        }

                        function checkAnimation(element)
                        {
                            for(var i = 0; i < element.animation.length; i++)
                            {
                                switch (element.animation[i].id) {
                                    case "fadeIn":
                                        fadeIn(element);
                                        break;
                                    case "slideIn":
                                        slideIn(element);
                                        break;
                                    case "zoomIn":
                                        zoomIn(element);
                                        break;
                                    default:
                                }
                            }

                        }

                        for(var i = 0; i < animationObject.length; i++)
                        {
                            var elem = document.getElementById(animationObject[i].id);
                            elem.animation = animationObject[i].animation;
                            elem.style.visibility = "hidden";
                            elem.show = (function() {
                                this.style.visibility = "visible";
                                checkAnimation(this);
                            }).bind(elem);

                            tl.add(elem.show, "+=" + animationObject[i].timing);
                        }
                    }

                }


            </script>
        </div>

    </body>
</html>
